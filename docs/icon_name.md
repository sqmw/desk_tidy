# 长名称与路径的可视化

## 问题
- 目录或文件名称过长时，列表中只显示前面部分，难以判断具体副本；  
- 路径信息被截断后也难以区分同名文件；  
- 选中文件后仍然残留旧名称，造成“选中后输入”重影；  
- 缺乏复制文件名/路径的快捷操作，不方便脚本/命令行中重复使用。

## 设计原则
1. **保留扩展名**：文件类型判断强依赖扩展名，因此即使截断也要在末端保留 `.exe`、`.png` 等。  
2. **中间省略号**：路径用“前缀+省略+末尾”展示，保留盘符、末端目录以及文件名的区别，使种类齐全。  
3. **完全信息通道**：除了 `Tooltip`，还在选中或长按时展示完整名称/路径，以便键盘用户或触控用户看到完整信息，不依赖 hover。

## 实现细节
1. `MiddleEllipsisText` 组件负责文件名与路径的截断：  
   - 上层文本为文件/应用名字，最大显示两行；  
   - 支持 `TextOverflow.clip` 与 `RichText` 组合，确保末尾扩展名保留。  
2. **悬浮/选中提示**  
   - `MouseRegion` 捕获 hover，显示 `Tooltip`；同时在状态栏（`EntityDetailBar`）显示完整路径与名称。  
   - `ValueNotifier` 维护当前焦点，在右侧添加详情栏（或未来的状态栏）展示完整信息。  
3. **复制能力**  
   - 右键菜单新增“复制名称”、“复制路径”、“复制所在目录”与“打开所在位置”的快捷项；调用 `Clipboard.setData` 搭配 `path` 处理引号。  
   - `Ctrl+C` 也会根据当前选中项复制。
4. **状态同步**  
   - 选中/聚焦时会更新 `_entityDetailNotifier`，该 notifier 驱动底部条的文字与可复制按钮，避免仅靠 tooltip 的可访问性问题。

## 扩展方向
- 支持 `Shift` + 选取时批量复制；  
- 鼠标移出后延迟消失 tooltip，避免信息被不小心遮住；
- 未来可在状态栏增加“路径打开”与“拖拽复制”按钮。
