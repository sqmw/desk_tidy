# 长名称与路径的可视化

## 问题
- 目录或文件名过长时列表只显示前半段，难以区分具体副本。  
- 路径被截断后也难以区分同名文件。  
- 选中后仍残留旧名称，容易产生“选中后输入”重影。  
- 缺少快捷复制文件名/路径的操作。

## 设计原则
1. **保留扩展名**：文件类型判断依赖扩展名，即便截断也在末尾保留 `.exe`、`.png` 等。  
2. **中间省略**：路径使用“前缀 + 省略 + 末尾”形式，保留盘符、末端目录与文件名，类别清晰。  
3. **完整信息通道**：悬停、选中或长按都能看到完整名称/路径，避免只靠 hover。  

## 实现细节
1. `MiddleEllipsisText` 负责名称/路径截断：  
   - 上层文本显示文件/应用名，最多两行；  
   - 支持 `TextOverflow.clip` 与 `RichText` 组合，保证末尾扩展名保留。  
2. **悬浮/选中提示**  
   - `MouseRegion` 捕获 hover，显示 `Tooltip`；同时在底部 `EntityDetailBar` 展示完整路径与名称。  
   - `ValueNotifier` 维护当前焦点，右侧状态栏同步完整信息。  
3. **复制能力**  
   - 右键菜单含“复制名称”“复制路径”“复制所在目录”“打开所在位置”，调用 `Clipboard.setData` + `path` 处理引号。  
   - `Ctrl+C` 也会根据当前选中项复制名称或路径。  
4. **状态同步**  
   - 选中/聚焦时更新 `_entityDetailNotifier`，驱动底部栏文本与复制按钮，避免仅依赖 tooltip 的可访问性问题。  

## 可扩展方向
- 支持 `Shift` + 多选时批量复制。  
- 鼠标移出后延迟消失 tooltip，避免信息被遮挡。  
- 在状态栏增加“路径打开”“拖拽复制”等快捷入口。  
