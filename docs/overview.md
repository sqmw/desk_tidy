# 功能全览

## 目标
- 将桌面快捷方式、文件夹与文件集中在一个入口，统一双击/右键/复制体验。  
- 轻量托盘 + 热区交互，支持磁吸、自动隐藏与玻璃风格外观。  

## 界面与导航
- 左侧导航含“应用 / 文件夹 / 文件 / 全部”四个视图，数据来自桌面目录及快捷方式。  
- 支持双击/回车打开，右键菜单包含打开、使用其他应用打开、移动到、删除（回收站）、复制名称/路径/所在目录、复制到…、打开所在位置。  
- 长名称采用中间省略，悬停或底部栏可见完整信息，详见 `docs/icon_name.md`。  
- 卡片尺寸、磨砂/玻璃样式统一，图标刷新与占位逻辑见 `docs/icon_display.md`。  

## 托盘与唤起
- 启动后常驻系统托盘，可通过托盘菜单显示/隐藏/退出。  
- 按住 Ctrl 并将鼠标移到屏幕左上窄热区可从托盘唤起；唤起时短暂 TopMost，避免被全屏应用遮挡。  
- 支持靠左上磁吸，鼠标离开后自动隐藏到托盘，详见 `docs/auto_hide.md`。  

## 文件/剪贴板操作
- “复制到…”递归复制文件夹/文件到目标目录，阻止循环与重名覆盖，失败会提示。  
- “复制名称/路径/所在目录”使用系统剪贴板；文件复制到剪贴板使用 Windows CF_HDROP + DropEffect，兼容资源管理器粘贴。  
- “移动到…”使用目录选择器后重命名，删除会发送到回收站。  
- 详细实现见 `docs/file_ops.md`。  

## 桌面同步
- 可显示/隐藏系统桌面图标（经典方案），定时同步状态，详见 `docs/windows_classic_scheme.md`。  
- 支持显示隐藏文件、自动刷新桌面列表。  
- 图标采集与刷新策略参见 `docs/icon_display.md`。  

## 设置与持久化
- 外观：透明度、磨砂强度、图标大小、主题模式、自定义背景图（备份到 `%AppData%/desk_tidy/`）。  
- 行为：隐藏桌面图标、显示隐藏文件、自动刷新、开机自动启动 (Windows)。  
- 偏好使用 `shared_preferences` 持久化，详见 `docs/settings.md`。  

## 运行与工具
- 开发运行：`fvm flutter pub get`，`fvm flutter run -d windows`。  
- 代码行统计：`fvm dart run bin/count_lib_loc.dart`。  
- 单实例与更新机制详见 `docs/single_instance.md`、`docs/update_service.md`。  
