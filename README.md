# desk_tidy（Windows 桌面整理）

桌面整理工具，整合桌面应用、文件、文件夹的快捷入口，并借助玻璃 / 磨砂等视觉效果提升体验。当前已经实现对应用、文件夹、文件分类的快速访问，默认支持双击打开、右键操作，以及针对长名称的提示和复制功能（详细内容请看 `docs/icon_display.md` 与 `docs/icon_name.md`）。

## 快速启动
1. `fvm flutter pub get`
2. `fvm flutter run -d windows`

## 核心开发方向（按文档拆分）
- **Icon 与快捷入口展示**（`docs/icon_display.md`）  
  描述图标的采集与刷新逻辑、刷新失败时如何降级，以及当前解决“人物名称显示不一致”“光标离开复原”的方案。
- **长名称与路径的可见性**（`docs/icon_name.md`）  
  说明如何保留扩展名、使用中间省略号、鼠标悬停/选中显示完整信息，并提供复制文件名 / 复制路径的右键菜单入口。
- **Windows 经典桌面方案**（`docs/windows_classic_scheme.md`）  
  记录曾经尝试的方案、为什么最后改用 Windows “显示/隐藏桌面图标”的原生开关，以及如何通过 API 监听状态并同步本应用。
- **热区/磁吸/自动隐藏行为**（`docs/auto_hide.md`）  
  详细说明当前热区算法、Ctrl+左上角的唤起条件、吸附后鼠标离开 260ms 自动隐藏机制，以及针对拖拽过程避免闪动的处理。

## 已知限制
- 目前 Windows 专用，非 Windows 平台上的桌面图标、回收站右键等能力尚未适配。
- “自动刷新桌面”开关正在对接真实逻辑，暂未完全实现。

## 小工具
- 统计 `lib/` 代码行：`fvm dart run bin/count_lib_loc.dart`

