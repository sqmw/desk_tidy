# desk_tidy (Windows 桌面整理)

一个桌面整理工具：聚合桌面的快捷方式/文件/文件夹，提供应用入口与文件管理的基础操作，并支持玻璃/磨砂外观。

## 当前已实现
- ✅ 视图
  - 应用：扫描桌面与公共桌面，展示“应用类快捷方式”（会过滤掉指向文件夹的 `.lnk`）。
  - 全部：汇总桌面所有项（含公共桌面），支持进入目录、双击打开、右键操作。
  - 文件夹：桌面根层仅显示文件夹；进入子目录后显示文件与子文件夹。
  - 文件：仅文件列表，双击默认打开，右键支持“用其他应用打开 / 移动 / 删除到回收站”。
- ✅ 交互
  - 双击：用系统默认方式打开（或运行快捷方式目标）。
  - 右键：打开 / 选择应用打开 / 移动 / 删除到回收站（不同页面会按类型显示可用项）。
  - 长名称：单击选中时，若名称被省略，会弹出浮层显示更多行。
- ✅ 外观/主题
  - 默认深色；支持 深色/浅色/跟随系统。
  - 背景图片：可选择本地图片作为背景，可清除还原。
  - 背景透明度：仅影响背景层（壁纸/底色），不影响内容可读性。
  - 磨砂强度：控制内容区“更透/更稳”（偏 Acrylic / 偏 Mica 的观感）。
- ✅ Windows 能力（仅 Windows）
  - 图标提取（文件/快捷方式），默认程序打开、指定程序打开、回收站删除。
  - 桌面项目隐藏：可将桌面文件/文件夹/快捷方式批量标记为隐藏，并支持恢复。

## 运行
1. `fvm flutter pub get`
2. Windows 运行：`fvm flutter run -d windows`

## 小工具脚本
- 统计 `lib/` 代码行数：`fvm dart run bin/count_lib_loc.dart`

## 已知限制
- 目前主要面向 Windows；非 Windows 平台的“图标提取/回收站/默认打开”等能力未适配。
- “自动刷新桌面”开关尚未接入实际刷新逻辑（占位）。

## 规划 / TODO（保留）
1. 显示模式分为两种
   1. 所有的应用、文件、文件夹都显示在一个窗口里，通过选择 tab 切换
   2. 风格化模式（当前未想到好的名字，点击任意屏幕可弹出右键菜单）
      1. 默认分为三个屏，鼠标划到顶部时显示主屏，主屏内容为 app
      2. 鼠标移动到屏幕最左侧一定范围时，显示文件
      3. 鼠标滑动到屏幕最右侧时，显示文件夹
      4. 待定功能：可以扩展分屏数量，例如顶部左侧是 app 里的编程软件，顶部中间是媒体编辑，顶部右侧是游戏。用户可以调整每个屏里的具体内容
2. 用户可以将“全部”里的拖动到其他分屏
3. 可以在其他分屏右键直接添加“全部”里的或者其他地方的文件，仅逻辑建立索引，并不是快捷方式或者硬链接
4. 个性化
   1. 提供主题修改
   2. 可以设置背景颜色
